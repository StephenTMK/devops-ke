apiVersion: aws.upbound.io/v1beta1
kind: ProviderConfig
metadata:
  name: default
  namespace: crossplane-system
spec:
  credentials:
    source: Secret
    secretRef:
      name: aws-creds-localstack
      namespace: crossplane-system
      key: credentials
  endpoint:
    hostnameImmutable: true
    services: [iam, s3, sqs, sts]
    url:
      type: Static
      # talk straight to the K8s service:
      static: http://localstack.localstack:4566
  s3UsePathStyle: true
  skipCredentialsValidation: true
  skipMetadataApiCheck: true
